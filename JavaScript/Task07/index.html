<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <style>
        .all{
        	margin: 0px auto;
        	width:1020px;
        	text-align: center;
        }
    	#a1{
    		width: 1000px;
    		height: 650px;
    		border: 2px solid black;
    		padding-left: 15px;
    		padding-top: 45px;
    		
    		
    	}
    	#a2,#a3{
    		width: 970px;
    		height: 240px;
    		border: 2px solid black;
    		
    	}
    	#a3{
    		margin-top: 115px;
    	}
    	#a4,#a5,#a6,#a7{
    		height:  180px;
    		width: 460px;
    		border: 2px solid black;
    		margin-top: 30px;
    		margin-left: 15px;
			float: left;
    	}
    	#a8,#a9,#a10,#a11,#a12,#a13,#a14,#a15{
    		width: 203px;
    		height: 115px;
    		border: 2px solid black;
    		margin-top: 30px;
    		margin-left: 15px;
    		float: left;
    	}
    	#a16,#a17,#a18,#a19,#a20,#a21,#a22,#a23,#a24,#a25,#a26,#a27,#a28,#a29,#a30,#a31{
    		height: 60px;
    		width: 75px;
    		border: 2px solid black;
    		margin-top: 30px;
    		margin-left: 15px;
    		float: left;
    	}
    	.bt{
    		margin-top: 20px;
    		text-align: center;
    	}
    </style>
    </head>
    
    <body>
    <div class="all">
    	<div id="a1" >
    	<div id="a2">
    		<div id="a4">
    			<div id="a8">
    				<div id="a16"></div>
    				<div id="a17"></div>
    			</div>
    			<div id="a9">
    				<div id="a18"></div>
    				<div id="a19"></div>
    			</div>
    		</div>
    		<div id="a5">
    			<div id="a10">
    				<div id="a20"></div>
    				<div id="a21"></div>
    			</div>
    			<div id="a11">
    				<div id="a22"></div>
    				<div id="a23"></div>
    			</div>
    		</div>
    	</div>
    	<div id="a3">
    		<div id="a6">
    			<div id="a12">
    				<div id="a24"></div>
    				<div id="a25"></div>
    			</div>
    			<div id="a13">
    				<div id="a26"></div>
    				<div id="a27"></div>
    			</div>
    		</div>
    		<div id="a7">
    			<div id="a14">
    				<div id="a28"></div>
    				<div id="a29"></div>
    			</div>
    			<div id="a15">
    				<div id="a30"></div>
    				<div id="a31"></div>
    			</div>
    		</div>
    	</div>   	
    </div>

    <div class="bt">
    <button class="btn" onclick="Pre()">先序遍历</button>
    <button class="btn" onclick="In()">中序遍历</button>
    <button class="btn" onclick="Post()">后序遍历</button>
    </div>
    </div>
    </body>
    <script>
	//编号   
    var tree = ["a1","a2","a3","a4","a5","a6","a7","a8","a9","a10","a11","a12","a13","a14","a15","a16","a17","a18","a19","a20","a21","a22","a23","a24","a25","a26","a27","a28","a29","a30","a31",];
   	//设置经过三种遍历方法后的数组
    
    //先序
    var preTree=new Array();
	var preA=0;
	//中序
	var inTree=new Array();
	var inA=0;
	//后序
	var postTree=new Array();
	var postA=0;

   //先序遍历算法
    void function preOrderTraverse(x, visit) {
        visit(tree[x]);
        if (tree[2 * x + 1]) preOrderTraverse(2 * x + 1, visit);
        if (tree[2 * x + 2]) preOrderTraverse(2 * x + 2, visit);
    }(0, function (value) {
        preTree[preA]=value; 
       	preA++;
    });  //得到经过遍历后的先序数组


    function Pre() {
   	 var m=0;
    var time=setInterval(function () {
    	if(m!=0){
    		//当遍历到第二个以后，将之前的加粗样式取消
    			document.getElementById(preTree[m-1]).style.border="2px solid black";
    	}
    	if(m==31){
 		clearInterval(time);  //当遍历到你最后一个的时候，计时器取消
 		}
    	//当遍历到此节点，改变样式
    	document.getElementById(preTree[m]).style.border="5px solid red";
    	m++;  	
    	
    },500)
   }

   //中序遍历
   void function inOrderTraverse(x, visit) {
        if (tree[2 * x + 1]) inOrderTraverse(2 * x + 1, visit);
        visit(tree[x]);
        if (tree[2 * x + 2]) inOrderTraverse(2 * x + 2, visit);
    }(0, function (value) {
       inTree[inA]=value; 
       	inA++;
    });

    console.log(inTree);
    
   function In() {
   	var m=0;
    var time=setInterval(function () {
    	if(m!=0){
    			document.getElementById(inTree[m-1]).style.border="2px solid black";
    	}
    	if(m==31){
 		clearInterval(time);
 		}
    	document.getElementById(inTree[m]).style.border="5px solid red";
    	m++;
    	
    },500)
   }

   //后序遍历
   void function postOrderTraverse(x, visit) {
        if (tree[2 * x + 1]) postOrderTraverse(2 * x + 1, visit);
        if (tree[2 * x + 2]) postOrderTraverse(2 * x + 2, visit);
        visit(tree[x]);
    }(0, function (value) {
        postTree[postA]=value; 
       	postA++;
    });

    function Post() {
   	var m=0;
    var time=setInterval(function () {
    	if(m!=0){
    			document.getElementById(postTree[m-1]).style.border="2px solid black";
    	}
    	if(m==31){
 		clearInterval(time);
 		}
    	document.getElementById(postTree[m]).style.border="5px solid red";
    	m++;
    	
    	
    },500)
   }

    </script>
</html>